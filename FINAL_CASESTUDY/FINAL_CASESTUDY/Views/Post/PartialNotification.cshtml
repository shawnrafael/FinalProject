@model IEnumerable<PasteBookEntity.NOTIFICATION>




<div class="dropdown">
    <button class="icon-bar dropdown-toggle" type="button" id="notificationList" data-toggle="dropdown"><span class="glyphicon glyphicon-globe"></span></button>
    @{
        if (Model.Where(x=>x.SEEN == "N").Count() != 0)
        {
            <span class="badge">@Model.Where(x=>x.SEEN == "N").Count()</span>
        }
    }
    
    <ul class="dropdown-menu scrollable-menu notification-dropdown" id="notificationDropdown" role="menu" aria-labelledby="notificationList">
        <li role="presentation" class="dropdown-header">Notifications</li>

            @{
                if (Model.Count() == 0)
                {
                    <li>
                        <div class="col-sm-4"></div>
                        <div class="col-sm-8">
                            <p>No notification</p>
                        </div>
                    </li>
                }
                foreach (var item in Model)
                {
                    string message = "";
                    string glyph = "glyphicon glyphicon-unchecked";
                    int? comment = 0;

                    if (item.SEEN == "Y")
                    {
                        glyph = "glyphicon glyphicon-check";
                    }

                    if (item.NOTIF_TYPE == "C")
                    {
                        message = item.USER.FIRST_NAME + " has commented on your post.";
                        comment = item.COMMENT_ID;
                    }
                    else if (item.NOTIF_TYPE == "L")
                    {
                        message = item.USER.FIRST_NAME + " has liked your post.";
                    }

                    <li>                        
                        <div class="container-fluid">
                            <div class="col-sm-10 post-link-container" style="height:40px">
                                @Html.ActionLink(message, "CheckNotification", "Post", new { notifID = item.ID, notifMessage = message }, "")
                            </div>
                            <div class="col-sm-2">
                                <span class="@glyph"></span>
                            </div>
                        </div>                        
                    </li>
                    <li class="divider"></li>
                }
            }
    </ul>
</div>